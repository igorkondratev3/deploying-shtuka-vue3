import{o as t,c as d,t as p,r as m,a as o,n as g,w as C,v as b,b as G,u as A,d as w,e as F,l as O,f as V,g as B,h as j,i as S,F as k,j as y,k as D,m as E,_ as T,p as q,q as z}from"./index-b8c1711e.js";const H={class:"navigation__about-circle"},N={__name:"aboutCircles",props:{aboutCircle:String},setup(v){const a=v;return(e,s)=>(t(),d("div",H,p(a.aboutCircle),1))}};const M={class:"navigation__control navigation-control"},R={class:"navigation-control__circles circles"},I={class:"navigation-control__grades grades"},J={__name:"navigationControl",emits:["changeCircle","changeGrade"],setup(v,{emit:a}){const e=m(!0),s=m({isGrade7:!0,isGrade8:!1,isGrade9:!1,isGrade10:!1,isGrade11:!1}),n=()=>{e.value=!e.value,e.value?(s.value.isGrade7=!0,s.value.isGrade8=!1,s.value.isGrade9=!1,a("changeCircle",1)):(s.value.isGrade9=!0,s.value.isGrade10=!1,s.value.isGrade11=!1,a("changeCircle",2))},l=c=>{s.value.isGrade7=!1,s.value.isGrade8=!1,s.value.isGrade9=!1,s.value.isGrade10=!1,s.value.isGrade11=!1,s.value["isGrade"+c]=!0,a("changeGrade",c)};return(c,r)=>(t(),d("div",M,[o("div",R,[o("div",{class:g(["circles__circle",{circles__choosen:e.value}]),onClick:n}," 1 круг ",2),o("div",{class:g(["circles__circle",{circles__choosen:!e.value}]),onClick:n}," 2 круг ",2)]),o("div",I,[C(o("div",{class:g(["grades__grade",{grades__choosen:s.value.isGrade7}]),onClick:r[0]||(r[0]=f=>l(7))}," 7 класс ",2),[[b,e.value]]),C(o("div",{class:g(["grades__grade",{grades__choosen:s.value.isGrade8}]),onClick:r[1]||(r[1]=f=>l(8))}," 8 класс ",2),[[b,e.value]]),o("div",{class:g(["grades__grade",{grades__choosen:s.value.isGrade9}]),onClick:r[2]||(r[2]=f=>l(9))}," 9 класс ",2),C(o("div",{class:g(["grades__grade",{grades__choosen:s.value.isGrade10}]),onClick:r[3]||(r[3]=f=>l(10))}," 10 класс ",2),[[b,!e.value]]),C(o("div",{class:g(["grades__grade",{grades__choosen:s.value.isGrade11}]),onClick:r[4]||(r[4]=f=>l(11))}," 11 класс ",2),[[b,!e.value]])])]))}};const K={class:"lessons-list__navigation navigation"},P={__name:"lessonsNavigation",emits:["changeCircle","changeGrade"],setup(v){const a={first:`1 круг 
Изучение тем школьной программы в общем виде`,second:`2 круг 
Углубленное изучение тем школьной программы`};return(e,s)=>(t(),d("div",K,[G(N,{aboutCircle:a.first},null,8,["aboutCircle"]),G(J,{class:"navigation__control",onChangeCircle:s[0]||(s[0]=n=>e.$emit("changeCircle",n)),onChangeGrade:s[1]||(s[1]=n=>e.$emit("changeGrade",n))}),G(N,{aboutCircle:a.second},null,8,["aboutCircle"])]))}};const Q={__name:"closeLessonsList",setup(v){const a=A(),e=m(null);w(()=>{F(e.value.getContext("2d"),e.value.width,e.value.height)});const s=()=>{window.history.state.back?window.history.back():a.push({path:"/"})};return(n,l)=>(t(),d("button",{onClick:s,class:"lessons-list__close-button"},[o("canvas",{ref_key:"cross",ref:e,width:"32",height:"32"},null,512)]))}};const U={class:"lessons-list__lessons lessons"},W=["onClick"],X={class:"lesson__number"},Y={class:"lesson__theme"},Z={__name:"lessonsVue",props:{circleAndGrade:Object},setup(v){const a=v,e=O(),s=m("");n(),V(a.circleAndGrade,()=>{n()});async function n(){if(!e.isFull[`circle${a.circleAndGrade.circle}grade${a.circleAndGrade.grade}`]){const i=await B(a.circleAndGrade.circle,a.circleAndGrade.grade);if(i.error){s.value=i.error;return}e.setLessons(i)}}const l=j(),c=A(),r=i=>{l.changeLessonNumber(a.circleAndGrade.circle,a.circleAndGrade.grade,i),c.push({path:"/lessonLayout"})},f=(i,u)=>{if(u>0)return i},L=S(()=>e["circle"+a.circleAndGrade.circle]["grade"+a.circleAndGrade.grade]),$=i=>{var _,h;const u=i+a.circleAndGrade.addForNumberOfLesson;return u!=((_=L.value[`lesson${u}`])==null?void 0:_.lesson)?[""]:(h=L.value[`lesson${u}`])==null?void 0:h.headings};return(i,u)=>(t(),d("div",U,[(t(!0),d(k,null,y(Object.keys(D(L)).length,_=>(t(),d("div",{class:"lessons__lesson lesson",key:_.id,onClick:h=>r(_+a.circleAndGrade.addForNumberOfLesson)},[o("div",X,p($(_)[0]),1),o("div",Y,[(t(!0),d(k,null,y($(_),(h,x)=>(t(),d(k,null,[z(p(f(h,x))+" "+p(" "),1)],64))),256))])],8,W))),128)),s.value?(t(),E(T,{key:0,error:s.value,onCloseError:u[0]||(u[0]=_=>s.value="")},null,8,["error"])):q("",!0)]))}};const ee={class:"lessons-list"},ae={__name:"lessonsList",setup(v){const a=O(),e=m({circle:1,grade:7,addForNumberOfLesson:0}),s=c=>{e.value.circle=c,c==1?e.value.grade=7:e.value.grade=9,l()},n=c=>{e.value.grade=c,l()},l=()=>{switch(e.value.grade){case 7:e.value.addForNumberOfLesson=0;break;case 8:e.value.addForNumberOfLesson=a.numberOf.grade7Lessons;break;case 9:e.value.circle===1?e.value.addForNumberOfLesson=a.numberOf.grade7Lessons+a.numberOf.grade8Lessons:e.value.addForNumberOfLesson=0;break;case 10:e.value.addForNumberOfLesson=a.numberOf.circle2Grade9Lessons;break;case 11:e.value.addForNumberOfLesson=a.numberOf.circle2Grade9Lessons+a.numberOf.grade10Lessons;break}};return(c,r)=>(t(),d("div",ee,[G(Q),G(P,{onChangeCircle:s,onChangeGrade:n}),G(Z,{circleAndGrade:e.value},null,8,["circleAndGrade"])]))}};export{ae as default};
