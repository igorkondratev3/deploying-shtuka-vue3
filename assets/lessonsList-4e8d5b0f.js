import{o as c,c as i,t as L,r as G,a as o,n as g,w as C,v as b,b as h,u as A,d as V,e as B,l as O,f as S,g as j,h as D,i as E,j as y,F as p,k as N,m as T,p as q,_ as z,q as H}from"./index-8d7d6877.js";const M={class:"navigation__about-circle"},w={__name:"aboutCircles",props:{aboutCircle:String},setup(v){const a=v;return(e,s)=>(c(),i("div",M,L(a.aboutCircle),1))}};const R={class:"navigation__control navigation-control"},W={class:"navigation-control__circles circles"},I={class:"navigation-control__grades grades"},J={__name:"navigationControl",emits:["changeCircle","changeGrade"],setup(v,{emit:a}){const e=G(!0),s=G({isGrade7:!0,isGrade8:!1,isGrade9:!1,isGrade10:!1,isGrade11:!1}),n=()=>{e.value=!e.value,e.value?(s.value.isGrade7=!0,s.value.isGrade8=!1,s.value.isGrade9=!1,a("changeCircle",1)):(s.value.isGrade9=!0,s.value.isGrade10=!1,s.value.isGrade11=!1,a("changeCircle",2))},l=t=>{s.value.isGrade7=!1,s.value.isGrade8=!1,s.value.isGrade9=!1,s.value.isGrade10=!1,s.value.isGrade11=!1,s.value["isGrade"+t]=!0,a("changeGrade",t)};return(t,r)=>(c(),i("div",R,[o("div",W,[o("div",{class:g(["circles__circle",{circles__choosen:e.value}]),onClick:n}," 1 круг ",2),o("div",{class:g(["circles__circle",{circles__choosen:!e.value}]),onClick:n}," 2 круг ",2)]),o("div",I,[C(o("div",{class:g(["grades__grade",{grades__choosen:s.value.isGrade7}]),onClick:r[0]||(r[0]=f=>l(7))}," 7 класс ",2),[[b,e.value]]),C(o("div",{class:g(["grades__grade",{grades__choosen:s.value.isGrade8}]),onClick:r[1]||(r[1]=f=>l(8))}," 8 класс ",2),[[b,e.value]]),o("div",{class:g(["grades__grade",{grades__choosen:s.value.isGrade9}]),onClick:r[2]||(r[2]=f=>l(9))}," 9 класс ",2),C(o("div",{class:g(["grades__grade",{grades__choosen:s.value.isGrade10}]),onClick:r[3]||(r[3]=f=>l(10))}," 10 класс ",2),[[b,!e.value]]),C(o("div",{class:g(["grades__grade",{grades__choosen:s.value.isGrade11}]),onClick:r[4]||(r[4]=f=>l(11))}," 11 класс ",2),[[b,!e.value]])])]))}};const K={class:"lessons-list__navigation navigation"},P={__name:"lessonsNavigation",emits:["changeCircle","changeGrade"],setup(v){const a={first:`1 круг 
Изучение тем школьной программы в общем виде`,second:`2 круг 
Углубленное изучение тем школьной программы`};return(e,s)=>(c(),i("div",K,[h(w,{aboutCircle:a.first},null,8,["aboutCircle"]),h(J,{class:"navigation__control",onChangeCircle:s[0]||(s[0]=n=>e.$emit("changeCircle",n)),onChangeGrade:s[1]||(s[1]=n=>e.$emit("changeGrade",n))}),h(w,{aboutCircle:a.second},null,8,["aboutCircle"])]))}};const Q={__name:"closeLessonsList",setup(v){const a=A(),e=G(null);V(()=>{B(e.value.getContext("2d"),e.value.width,e.value.height)});const s=()=>{window.history.state.back?window.history.back():a.push({path:"/"})};return(n,l)=>(c(),i("button",{onClick:s,class:"lessons-list__close-button"},[o("canvas",{ref_key:"cross",ref:e,width:"32",height:"32"},null,512)]))}};const U={key:0,class:"download-warning"},X={class:"lessons-list__lessons lessons"},Y=["onClick"],Z={class:"lesson__number"},ee={class:"lesson__theme"},se={__name:"lessonsVue",props:{circleAndGrade:Object},setup(v){const a=v,e=O(),s=G(""),n=G(!1);l(),S(a.circleAndGrade,()=>{l()});async function l(){if(!e.isFull[`circle${a.circleAndGrade.circle}grade${a.circleAndGrade.grade}`]){n.value=!0;const d=await j(a.circleAndGrade.circle,a.circleAndGrade.grade);if(n.value=!1,d.error){s.value=d.error;return}e.setLessons(d)}}const t=D(),r=A(),f=d=>{t.changeLessonNumber(a.circleAndGrade.circle,a.circleAndGrade.grade,d),r.push({path:"/lessonLayout"})},x=(d,u)=>{if(u>0)return d},k=E(()=>e["circle"+a.circleAndGrade.circle]["grade"+a.circleAndGrade.grade]),$=d=>{var _,m;const u=d+a.circleAndGrade.addForNumberOfLesson;return u!=((_=k.value[`lesson${u}`])==null?void 0:_.lesson)?[""]:(m=k.value[`lesson${u}`])==null?void 0:m.headings};return(d,u)=>(c(),i(p,null,[n.value?(c(),i("div",U," Ожидается загрузка. Если к серверу длительное время не делалось обращений, то время ожидания может занять до 10-15 секунд. Приносим извенения за временные неудобства. ")):y("",!0),o("div",X,[(c(!0),i(p,null,N(Object.keys(T(k)).length,_=>(c(),i("div",{class:"lessons__lesson lesson",key:_.id,onClick:m=>f(_+a.circleAndGrade.addForNumberOfLesson)},[o("div",Z,L($(_)[0]),1),o("div",ee,[(c(!0),i(p,null,N($(_),(m,F)=>(c(),i(p,null,[H(L(x(m,F))+" "+L(" "),1)],64))),256))])],8,Y))),128)),s.value?(c(),q(z,{key:0,error:s.value,onCloseError:u[0]||(u[0]=_=>s.value="")},null,8,["error"])):y("",!0)])],64))}};const ae={class:"lessons-list"},re={__name:"lessonsList",setup(v){const a=O(),e=G({circle:1,grade:7,addForNumberOfLesson:0}),s=t=>{e.value.circle=t,t==1?e.value.grade=7:e.value.grade=9,l()},n=t=>{e.value.grade=t,l()},l=()=>{switch(e.value.grade){case 7:e.value.addForNumberOfLesson=0;break;case 8:e.value.addForNumberOfLesson=a.numberOf.grade7Lessons;break;case 9:e.value.circle===1?e.value.addForNumberOfLesson=a.numberOf.grade7Lessons+a.numberOf.grade8Lessons:e.value.addForNumberOfLesson=0;break;case 10:e.value.addForNumberOfLesson=a.numberOf.circle2Grade9Lessons;break;case 11:e.value.addForNumberOfLesson=a.numberOf.circle2Grade9Lessons+a.numberOf.grade10Lessons;break}};return(t,r)=>(c(),i("div",ae,[h(Q),h(P,{onChangeCircle:s,onChangeGrade:n}),h(se,{circleAndGrade:e.value},null,8,["circleAndGrade"])]))}};export{re as default};
